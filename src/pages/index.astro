---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
// import { format } from 'date-fns';

const title = 'Bravix Blog';
const description = 'Insights on AI, automation, and custom software development for Mexican SMEs.';
const permalink = Astro.site.href;

const posts = (await getCollection('posts')).sort(
  (a, b) => new Date(b.data.publishDate).valueOf() - new Date(a.data.publishDate).valueOf()
);
---

<BaseLayout title={title} description={description} permalink={permalink}>
  <div class="container">
    <div class="hero-section">
      <div class="hero-logo">
        <img src="/blog/assets/logo.png" alt="Bravix" width="240" height="160" />
      </div>
      <h1>Blog Bravix</h1>
      <p class="hero-subtitle">
        <strong>Tu espacio para aprender sobre IA y automatizaci√≥n</strong>
      </p>
      <p class="hero-description">
        Aqu√≠ compartimos insights pr√°cticos, casos de √©xito y gu√≠as sobre c√≥mo la inteligencia artificial puede transformar tu PyME mexicana.
      </p>

      <div class="what-youll-find">
        <h3>üí° ¬øQu√© encontrar√°s?</h3>
        <ul>
          <li>Casos reales de automatizaci√≥n con IA</li>
          <li>Gu√≠as paso a paso para implementar tecnolog√≠a</li>
          <li>Tendencias y oportunidades en el mercado mexicano</li>
          <li>Tips pr√°cticos para optimizar tu negocio</li>
        </ul>
      </div>
    </div>

    <div class="posts-section">
      <h2 class="posts-title">üì∞ √öltimas publicaciones</h2>

    {posts.map((post) => (
      <div>
        <div class="post-item">
          <h2>
            <a href={`/blog/${post.data.slug}`}>{post.data.title}</a>
          </h2>
          <p>{post.data.description}</p>
          <div class="post-item-footer">
            <span class="post-item-date">
              ‚Äî {post.data.publishDate}
            </span>
          </div>
        </div>
      </div>
    ))}
    </div>
  </div>
</BaseLayout>

